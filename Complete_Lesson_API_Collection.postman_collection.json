{
  "info": {
    "name": "Lesson System - Complete API Test Collection",
    "description": "Bộ test đầy đủ cho hệ thống Chapter, Lesson, Quiz và Progress",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "12345"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080",
      "type": "string"
    },
    {
      "key": "adminToken",
      "value": "PASTE_YOUR_ADMIN_TOKEN_HERE",
      "type": "string"
    },
    {
      "key": "userToken",
      "value": "PASTE_YOUR_USER_TOKEN_HERE",
      "type": "string"
    },
    {
      "key": "courseId",
      "value": "691c79f6190d8c0f5aac76a0",
      "type": "string"
    },
    {
      "key": "chapterId",
      "value": "",
      "type": "string"
    },
    {
      "key": "lessonId",
      "value": "",
      "type": "string"
    },
    {
      "key": "quizLessonId",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "0. Authentication",
      "item": [
        {
          "name": "Login Admin",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data && jsonData.data.token) {",
                  "        pm.collectionVariables.set('adminToken', jsonData.data.token);",
                  "        console.log('Admin token saved:', jsonData.data.token);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@example.com\",\n  \"password\": \"admin123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "login"]
            }
          }
        },
        {
          "name": "Login User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data && jsonData.data.token) {",
                  "        pm.collectionVariables.set('userToken', jsonData.data.token);",
                  "        console.log('User token saved:', jsonData.data.token);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"user123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "login"]
            }
          }
        }
      ]
    },
    {
      "name": "1. ADMIN - Chapter Management",
      "item": [
        {
          "name": "1.1 Create Chapter",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data && jsonData.data.id) {",
                  "        pm.collectionVariables.set('chapterId', jsonData.data.id);",
                  "        console.log('Chapter ID saved:', jsonData.data.id);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"courseId\": \"{{courseId}}\",\n  \"title\": \"Chương 1: Làm quen HTML\",\n  \"description\": \"Giới thiệu HTML cơ bản từ đầu, bao gồm cấu trúc, thẻ cơ bản và thuộc tính\",\n  \"order\": 1,\n  \"isFree\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/admin/chapters/create",
              "host": ["{{baseUrl}}"],
              "path": ["api", "admin", "chapters", "create"]
            }
          }
        },
        {
          "name": "1.2 Create Chapter 2",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"courseId\": \"{{courseId}}\",\n  \"title\": \"Chương 2: CSS Cơ Bản\",\n  \"description\": \"Học CSS để trang trí và định dạng trang web\",\n  \"order\": 2,\n  \"isFree\": false\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/admin/chapters/create",
              "host": ["{{baseUrl}}"],
              "path": ["api", "admin", "chapters", "create"]
            }
          }
        },
        {
          "name": "1.3 Get All Chapters by Course",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/admin/chapters/course/{{courseId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "admin", "chapters", "course", "{{courseId}}"]
            }
          }
        },
        {
          "name": "1.4 Get Chapter by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/admin/chapters/{{chapterId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "admin", "chapters", "{{chapterId}}"]
            }
          }
        },
        {
          "name": "1.5 Update Chapter",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Chương 1: HTML Nâng Cao (Updated)\",\n  \"description\": \"Mô tả mới sau khi cập nhật\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/admin/chapters/{{chapterId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "admin", "chapters", "{{chapterId}}"]
            }
          }
        },
        {
          "name": "1.6 Delete Chapter",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/admin/chapters/{{chapterId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "admin", "chapters", "{{chapterId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "2. ADMIN - Lesson Management",
      "item": [
        {
          "name": "2.1 Create Lesson (Basic - Free)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data && jsonData.data.id) {",
                  "        pm.collectionVariables.set('lessonId', jsonData.data.id);",
                  "        console.log('Lesson ID saved:', jsonData.data.id);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"chapterId\": \"{{chapterId}}\",\n  \"courseId\": \"{{courseId}}\",\n  \"title\": \"Bài 1: Giới thiệu HTML\",\n  \"description\": \"Tìm hiểu HTML là gì và tại sao nên học HTML\",\n  \"order\": 1,\n  \"duration\": 15,\n  \"isFree\": true,\n  \"videoUrl\": \"https://www.youtube.com/watch?v=UB1O30fR-EE\",\n  \"videoType\": \"YOUTUBE\",\n  \"contentType\": \"MARKDOWN\",\n  \"content\": \"# Giới thiệu HTML\\n\\nHTML (HyperText Markup Language) là ngôn ngữ đánh dấu siêu văn bản dùng để tạo cấu trúc cho trang web.\\n\\n## Tại sao nên học HTML?\\n\\n- Nền tảng của web development\\n- Dễ học, dễ hiểu\\n- Cần thiết cho mọi lập trình viên web\\n\\n## Cấu trúc cơ bản\\n\\n```html\\n<!DOCTYPE html>\\n<html>\\n<head>\\n  <title>Trang web đầu tiên</title>\\n</head>\\n<body>\\n  <h1>Hello World</h1>\\n  <p>Đây là đoạn văn bản đầu tiên</p>\\n</body>\\n</html>\\n```\\n\\n## Kết luận\\n\\nHTML là bước đầu tiên trong hành trình trở thành web developer.\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/admin/lessons/create",
              "host": ["{{baseUrl}}"],
              "path": ["api", "admin", "lessons", "create"]
            }
          }
        },
        {
          "name": "2.2 Create Lesson with Code Snippets",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"chapterId\": \"{{chapterId}}\",\n  \"courseId\": \"{{courseId}}\",\n  \"title\": \"Bài 2: Thẻ HTML cơ bản\",\n  \"description\": \"Tìm hiểu các thẻ HTML thường dùng: h1-h6, p, a, img, ul, ol\",\n  \"order\": 2,\n  \"duration\": 20,\n  \"isFree\": false,\n  \"requiredPreviousLesson\": \"{{lessonId}}\",\n  \"videoUrl\": \"https://www.youtube.com/watch?v=example123\",\n  \"videoType\": \"YOUTUBE\",\n  \"contentType\": \"MARKDOWN\",\n  \"content\": \"# Các thẻ HTML cơ bản\\n\\n## 1. Thẻ tiêu đề (h1-h6)\\n\\nDùng để tạo tiêu đề cho nội dung, từ h1 (lớn nhất) đến h6 (nhỏ nhất).\\n\\n## 2. Thẻ đoạn văn (p)\\n\\nDùng để tạo đoạn văn bản.\\n\\n## 3. Thẻ liên kết (a)\\n\\nDùng để tạo link đến trang khác.\",\n  \"codeSnippets\": [\n    {\n      \"language\": \"html\",\n      \"code\": \"<!DOCTYPE html>\\n<html>\\n<body>\\n  <h1>Tiêu đề lớn nhất</h1>\\n  <h2>Tiêu đề nhỏ hơn</h2>\\n  <h3>Tiêu đề còn nhỏ hơn nữa</h3>\\n  <p>Đây là một đoạn văn bản</p>\\n</body>\\n</html>\",\n      \"title\": \"Ví dụ về thẻ tiêu đề và đoạn văn\"\n    },\n    {\n      \"language\": \"html\",\n      \"code\": \"<ul>\\n  <li>Item 1</li>\\n  <li>Item 2</li>\\n  <li>Item 3</li>\\n</ul>\\n\\n<ol>\\n  <li>Bước 1</li>\\n  <li>Bước 2</li>\\n  <li>Bước 3</li>\\n</ol>\",\n      \"title\": \"Danh sách có thứ tự và không thứ tự\"\n    },\n    {\n      \"language\": \"html\",\n      \"code\": \"<a href=\\\"https://google.com\\\">Link đến Google</a>\\n\\n<img src=\\\"image.jpg\\\" alt=\\\"Mô tả ảnh\\\" width=\\\"300\\\">\",\n      \"title\": \"Link và hình ảnh\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/admin/lessons/create",
              "host": ["{{baseUrl}}"],
              "path": ["api", "admin", "lessons", "create"]
            }
          }
        },
        {
          "name": "2.3 Create Lesson with Attachments",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"chapterId\": \"{{chapterId}}\",\n  \"courseId\": \"{{courseId}}\",\n  \"title\": \"Bài 3: Thuộc tính HTML\",\n  \"description\": \"Tìm hiểu về các thuộc tính của thẻ HTML\",\n  \"order\": 3,\n  \"duration\": 18,\n  \"isFree\": false,\n  \"videoUrl\": \"https://www.youtube.com/watch?v=example456\",\n  \"videoType\": \"YOUTUBE\",\n  \"contentType\": \"MARKDOWN\",\n  \"content\": \"# Thuộc tính HTML\\n\\nThuộc tính cung cấp thông tin bổ sung cho thẻ HTML.\",\n  \"attachments\": [\n    {\n      \"name\": \"HTML_Attributes_Cheatsheet.pdf\",\n      \"url\": \"http://localhost:8080/static/documents/html-attributes.pdf\",\n      \"type\": \"pdf\",\n      \"size\": 524288\n    },\n    {\n      \"name\": \"Source_Code_Examples.zip\",\n      \"url\": \"http://localhost:8080/static/downloads/html-examples.zip\",\n      \"type\": \"zip\",\n      \"size\": 1048576\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/admin/lessons/create",
              "host": ["{{baseUrl}}"],
              "path": ["api", "admin", "lessons", "create"]
            }
          }
        },
        {
          "name": "2.4 Create Lesson with Quiz",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data && jsonData.data.id) {",
                  "        pm.collectionVariables.set('quizLessonId', jsonData.data.id);",
                  "        console.log('Quiz Lesson ID saved:', jsonData.data.id);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"chapterId\": \"{{chapterId}}\",\n  \"courseId\": \"{{courseId}}\",\n  \"title\": \"Quiz Chương 1: Kiểm tra kiến thức HTML\",\n  \"description\": \"Làm quiz để kiểm tra hiểu biết về HTML cơ bản. Cần đạt 70% để pass.\",\n  \"order\": 4,\n  \"duration\": 10,\n  \"isFree\": false,\n  \"hasQuiz\": true,\n  \"quiz\": {\n    \"passingScore\": 70,\n    \"timeLimit\": 15,\n    \"maxAttempts\": null,\n    \"questions\": [\n      {\n        \"id\": \"q1\",\n        \"question\": \"HTML là viết tắt của gì?\",\n        \"type\": \"SINGLE_CHOICE\",\n        \"options\": [\n          {\"id\": \"a\", \"text\": \"HyperText Markup Language\", \"isCorrect\": true},\n          {\"id\": \"b\", \"text\": \"HighTech Modern Language\", \"isCorrect\": false},\n          {\"id\": \"c\", \"text\": \"Home Tool Markup Language\", \"isCorrect\": false},\n          {\"id\": \"d\", \"text\": \"Hyperlinks Text Markup\", \"isCorrect\": false}\n        ],\n        \"explanation\": \"HTML viết tắt của HyperText Markup Language, là ngôn ngữ đánh dấu siêu văn bản được sử dụng để tạo cấu trúc cho các trang web.\",\n        \"points\": 1\n      },\n      {\n        \"id\": \"q2\",\n        \"question\": \"Thẻ nào dùng để tạo tiêu đề lớn nhất trong HTML?\",\n        \"type\": \"SINGLE_CHOICE\",\n        \"options\": [\n          {\"id\": \"a\", \"text\": \"<h1>\", \"isCorrect\": true},\n          {\"id\": \"b\", \"text\": \"<h6>\", \"isCorrect\": false},\n          {\"id\": \"c\", \"text\": \"<header>\", \"isCorrect\": false},\n          {\"id\": \"d\", \"text\": \"<title>\", \"isCorrect\": false}\n        ],\n        \"explanation\": \"Thẻ <h1> là thẻ tiêu đề lớn nhất trong HTML. <h6> là nhỏ nhất. <header> là thẻ cấu trúc, <title> dùng trong <head>.\",\n        \"points\": 1\n      },\n      {\n        \"id\": \"q3\",\n        \"question\": \"Chọn TẤT CẢ các thẻ dùng để định dạng văn bản:\",\n        \"type\": \"MULTIPLE_CHOICE\",\n        \"options\": [\n          {\"id\": \"a\", \"text\": \"<b>\", \"isCorrect\": true},\n          {\"id\": \"b\", \"text\": \"<i>\", \"isCorrect\": true},\n          {\"id\": \"c\", \"text\": \"<div>\", \"isCorrect\": false},\n          {\"id\": \"d\", \"text\": \"<strong>\", \"isCorrect\": true}\n        ],\n        \"explanation\": \"<b>, <i>, <strong> đều dùng để định dạng văn bản (in đậm, in nghiêng). <div> là thẻ container, không phải định dạng văn bản.\",\n        \"points\": 2\n      },\n      {\n        \"id\": \"q4\",\n        \"question\": \"Thẻ <p> dùng để tạo đoạn văn bản. Đúng hay sai?\",\n        \"type\": \"TRUE_FALSE\",\n        \"options\": [\n          {\"id\": \"a\", \"text\": \"Đúng\", \"isCorrect\": true},\n          {\"id\": \"b\", \"text\": \"Sai\", \"isCorrect\": false}\n        ],\n        \"explanation\": \"Đúng! Thẻ <p> (paragraph) được dùng để tạo đoạn văn bản trong HTML.\",\n        \"points\": 1\n      },\n      {\n        \"id\": \"q5\",\n        \"question\": \"Thuộc tính nào dùng để tạo link trong thẻ <a>?\",\n        \"type\": \"SINGLE_CHOICE\",\n        \"options\": [\n          {\"id\": \"a\", \"text\": \"src\", \"isCorrect\": false},\n          {\"id\": \"b\", \"text\": \"href\", \"isCorrect\": true},\n          {\"id\": \"c\", \"text\": \"link\", \"isCorrect\": false},\n          {\"id\": \"d\", \"text\": \"url\", \"isCorrect\": false}\n        ],\n        \"explanation\": \"Thuộc tính 'href' (hypertext reference) được dùng để chỉ định URL đích của liên kết. Ví dụ: <a href='https://google.com'>Google</a>\",\n        \"points\": 1\n      }\n    ]\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/admin/lessons/create",
              "host": ["{{baseUrl}}"],
              "path": ["api", "admin", "lessons", "create"]
            }
          }
        },
        {
          "name": "2.5 Get Lessons by Chapter",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/admin/lessons/chapter/{{chapterId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "admin", "lessons", "chapter", "{{chapterId}}"]
            }
          }
        },
        {
          "name": "2.6 Get All Lessons by Course",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/admin/lessons/course/{{courseId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "admin", "lessons", "course", "{{courseId}}"]
            }
          }
        },
        {
          "name": "2.7 Get Lesson by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/admin/lessons/{{lessonId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "admin", "lessons", "{{lessonId}}"]
            }
          }
        },
        {
          "name": "2.8 Update Lesson",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Bài 1: Giới thiệu HTML (Updated)\",\n  \"duration\": 18,\n  \"description\": \"Mô tả đã được cập nhật\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/admin/lessons/{{lessonId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "admin", "lessons", "{{lessonId}}"]
            }
          }
        },
        {
          "name": "2.9 Delete Lesson",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/admin/lessons/{{lessonId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "admin", "lessons", "{{lessonId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "3. USER - Progress Management",
      "item": [
        {
          "name": "3.1 Enroll Course (Initialize Progress)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/progress/enroll/{{courseId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "progress", "enroll", "{{courseId}}"]
            }
          }
        },
        {
          "name": "3.2 Get My Progress",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/progress/course/{{courseId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "progress", "course", "{{courseId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "4. USER - Lesson Learning",
      "item": [
        {
          "name": "4.1 Get Lesson Details",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/lessons/{{lessonId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "lessons", "{{lessonId}}"]
            }
          }
        },
        {
          "name": "4.2 Check Access Permission",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/lessons/{{lessonId}}/access",
              "host": ["{{baseUrl}}"],
              "path": ["api", "lessons", "{{lessonId}}", "access"]
            }
          }
        },
        {
          "name": "4.3 Update Video Progress (25%)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/lessons/{{lessonId}}/progress?percent=25",
              "host": ["{{baseUrl}}"],
              "path": ["api", "lessons", "{{lessonId}}", "progress"],
              "query": [
                {
                  "key": "percent",
                  "value": "25"
                }
              ]
            }
          }
        },
        {
          "name": "4.4 Update Video Progress (50%)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/lessons/{{lessonId}}/progress?percent=50",
              "host": ["{{baseUrl}}"],
              "path": ["api", "lessons", "{{lessonId}}", "progress"],
              "query": [
                {
                  "key": "percent",
                  "value": "50"
                }
              ]
            }
          }
        },
        {
          "name": "4.5 Update Video Progress (90% - Auto Complete)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/lessons/{{lessonId}}/progress?percent=90",
              "host": ["{{baseUrl}}"],
              "path": ["api", "lessons", "{{lessonId}}", "progress"],
              "query": [
                {
                  "key": "percent",
                  "value": "90"
                }
              ]
            }
          }
        },
        {
          "name": "4.6 Mark Lesson Complete (Manual)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/lessons/{{lessonId}}/complete",
              "host": ["{{baseUrl}}"],
              "path": ["api", "lessons", "{{lessonId}}", "complete"]
            }
          }
        },
        {
          "name": "4.7 Like Lesson",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/lessons/{{lessonId}}/like",
              "host": ["{{baseUrl}}"],
              "path": ["api", "lessons", "{{lessonId}}", "like"]
            }
          }
        }
      ]
    },
    {
      "name": "5. USER - Quiz Submission",
      "item": [
        {
          "name": "5.1 Submit Quiz (Pass - 100%)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"lessonId\": \"{{quizLessonId}}\",\n  \"answers\": [\n    {\n      \"questionId\": \"q1\",\n      \"selectedOptions\": [\"a\"]\n    },\n    {\n      \"questionId\": \"q2\",\n      \"selectedOptions\": [\"a\"]\n    },\n    {\n      \"questionId\": \"q3\",\n      \"selectedOptions\": [\"a\", \"b\", \"d\"]\n    },\n    {\n      \"questionId\": \"q4\",\n      \"selectedOptions\": [\"a\"]\n    },\n    {\n      \"questionId\": \"q5\",\n      \"selectedOptions\": [\"b\"]\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/lessons/quiz/submit",
              "host": ["{{baseUrl}}"],
              "path": ["api", "lessons", "quiz", "submit"]
            }
          }
        },
        {
          "name": "5.2 Submit Quiz (Fail - 40%)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"lessonId\": \"{{quizLessonId}}\",\n  \"answers\": [\n    {\n      \"questionId\": \"q1\",\n      \"selectedOptions\": [\"b\"]\n    },\n    {\n      \"questionId\": \"q2\",\n      \"selectedOptions\": [\"c\"]\n    },\n    {\n      \"questionId\": \"q3\",\n      \"selectedOptions\": [\"a\", \"c\"]\n    },\n    {\n      \"questionId\": \"q4\",\n      \"selectedOptions\": [\"a\"]\n    },\n    {\n      \"questionId\": \"q5\",\n      \"selectedOptions\": [\"a\"]\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/lessons/quiz/submit",
              "host": ["{{baseUrl}}"],
              "path": ["api", "lessons", "quiz", "submit"]
            }
          }
        },
        {
          "name": "5.3 Submit Quiz (Pass - 80%)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"lessonId\": \"{{quizLessonId}}\",\n  \"answers\": [\n    {\n      \"questionId\": \"q1\",\n      \"selectedOptions\": [\"a\"]\n    },\n    {\n      \"questionId\": \"q2\",\n      \"selectedOptions\": [\"a\"]\n    },\n    {\n      \"questionId\": \"q3\",\n      \"selectedOptions\": [\"a\", \"b\"]\n    },\n    {\n      \"questionId\": \"q4\",\n      \"selectedOptions\": [\"a\"]\n    },\n    {\n      \"questionId\": \"q5\",\n      \"selectedOptions\": [\"b\"]\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/lessons/quiz/submit",
              "host": ["{{baseUrl}}"],
              "path": ["api", "lessons", "quiz", "submit"]
            }
          }
        }
      ]
    }
  ]
}

