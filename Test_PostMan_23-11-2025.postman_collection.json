{
	"info": {
		"_postman_id": "elearning-complete-23-11-2025",
		"name": "E-Learning API - Complete Collection 23/11/2025",
		"description": "Complete Postman collection for E-Learning Platform\nUpdated: November 23, 2025\n\nTotal: 15 Modules | 73+ APIs\n\n‚úÖ FIXED: Video progress uses real userId\nüî• NEW: Direct payment (no cart/order)",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "1. AUTHENTICATION",
			"item": [
				{
					"name": "1.1. Register User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const data = pm.response.json();",
									"    if (data.success) {",
									"        console.log('‚úÖ Registered:', data.data.email);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"student@example.com\",\n  \"password\": \"Password123\",\n  \"fullname\": \"Nguy·ªÖn VƒÉn A\",\n  \"phoneNumber\": \"0123456789\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/register",
							"host": ["{{baseUrl}}"],
							"path": ["api", "auth", "register"]
						}
					},
					"response": []
				},
				{
					"name": "1.2. Verify OTP",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"student@example.com\",\n  \"otp\": \"123456\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/verify-otp",
							"host": ["{{baseUrl}}"],
							"path": ["api", "auth", "verify-otp"]
						}
					},
					"response": []
				},
				{
					"name": "1.3. Login User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const data = pm.response.json();",
									"    if (data.success && data.data && data.data.token) {",
									"        pm.environment.set('userToken', data.data.token);",
									"        pm.environment.set('userId', data.data.id);",
									"        console.log('‚úÖ Login successful');",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"student@example.com\",\n  \"password\": \"Password123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/login",
							"host": ["{{baseUrl}}"],
							"path": ["api", "auth", "login"]
						}
					},
					"response": []
				},
				{
					"name": "1.4. Login Admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const data = pm.response.json();",
									"    if (data.success && data.data && data.data.token) {",
									"        pm.environment.set('adminToken', data.data.token);",
									"        console.log('‚úÖ Admin login successful');",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"admin@example.com\",\n  \"password\": \"Admin123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/login",
							"host": ["{{baseUrl}}"],
							"path": ["api", "auth", "login"]
						}
					},
					"response": []
				},
				{
					"name": "1.5. Login with Google",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"idToken\": \"google_id_token_here\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/google",
							"host": ["{{baseUrl}}"],
							"path": ["api", "auth", "google"]
						}
					},
					"response": []
				},
				{
					"name": "1.6. Refresh Token",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/auth/refresh-token",
							"host": ["{{baseUrl}}"],
							"path": ["api", "auth", "refresh-token"]
						}
					},
					"response": []
				},
				{
					"name": "1.7. Forget Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"student@example.com\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/forget-password",
							"host": ["{{baseUrl}}"],
							"path": ["api", "auth", "forget-password"]
						}
					},
					"response": []
				},
				{
					"name": "1.8. Verify OTP Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"student@example.com\",\n  \"otp\": \"123456\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/verify-otpPassword",
							"host": ["{{baseUrl}}"],
							"path": ["api", "auth", "verify-otpPassword"]
						}
					},
					"response": []
				},
				{
					"name": "1.9. Reset Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"student@example.com\",\n  \"newPassword\": \"NewPassword123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/reset-password",
							"host": ["{{baseUrl}}"],
							"path": ["api", "auth", "reset-password"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "2. COURSES (Admin)",
			"item": [
				{
					"name": "2.1. Create Course",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const data = pm.response.json();",
									"    if (data.success && data.data) {",
									"        pm.environment.set('courseId', data.data.id);",
									"        console.log('‚úÖ Created course:', data.data.id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"categoryCode\": \"DEV\",\n  \"title\": \"React Hooks C∆° B·∫£n\",\n  \"description\": \"H·ªçc React Hooks t·ª´ c∆° b·∫£n ƒë·∫øn n√¢ng cao\",\n  \"price\": 600000,\n  \"discountPercent\": 17,\n  \"discountedPrice\": 500000,\n  \"thumbnailUrl\": \"https://example.com/react-hooks.jpg\",\n  \"duration\": 40,\n  \"level\": \"BEGINNER\",\n  \"instructorName\": \"Nguy·ªÖn VƒÉn A\",\n  \"isPublished\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admin/courses/create",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "courses", "create"]
						}
					},
					"response": []
				},
				{
					"name": "2.2. Get All Courses (Admin)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/courses/getAll",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "courses", "getAll"]
						}
					},
					"response": []
				},
				{
					"name": "2.3. Get Course By ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/courses/{{courseId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "courses", "{{courseId}}"]
						}
					},
					"response": []
				},
				{
					"name": "2.4. Update Course",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"id\": \"{{courseId}}\",\n  \"title\": \"React Hooks N√¢ng Cao\",\n  \"description\": \"Updated description\",\n  \"price\": 800000\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admin/courses/update",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "courses", "update"]
						}
					},
					"response": []
				},
				{
					"name": "2.5. Delete Course",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/courses/delete/{{courseId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "courses", "delete", "{{courseId}}"]
						}
					},
					"response": []
				},
				{
					"name": "2.6. Upload Course Thumbnail",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{baseUrl}}/api/admin/courses/upload-thumbnail",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "courses", "upload-thumbnail"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "3. COURSES (User)",
			"item": [
				{
					"name": "3.1. Get All Published Courses",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/courses",
							"host": ["{{baseUrl}}"],
							"path": ["api", "courses"]
						}
					},
					"response": []
				},
				{
					"name": "3.2. Get Course By ID (User)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/courses/{{courseId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "courses", "{{courseId}}"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "4. COURSE CATEGORIES",
			"item": [
				{
					"name": "4.1. Get All Categories",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/admin/course-categories/getAll",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "course-categories", "getAll"]
						}
					},
					"response": []
				},
				{
					"name": "4.2. Create Category",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"code\": \"DEV\",\n  \"name\": \"L·∫≠p tr√¨nh\",\n  \"description\": \"C√°c kh√≥a h·ªçc v·ªÅ l·∫≠p tr√¨nh\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admin/course-categories/create",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "course-categories", "create"]
						}
					},
					"response": []
				},
				{
					"name": "4.3. Update Category",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"code\": \"DEV\",\n  \"name\": \"L·∫≠p tr√¨nh Web\",\n  \"description\": \"C√°c kh√≥a h·ªçc v·ªÅ l·∫≠p tr√¨nh web\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admin/course-categories/update",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "course-categories", "update"]
						}
					},
					"response": []
				},
				{
					"name": "4.4. Delete Category",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/course-categories/delete/DEV",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "course-categories", "delete", "DEV"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "5. CHAPTERS (Admin)",
			"item": [
				{
					"name": "5.1. Create Chapter",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const data = pm.response.json();",
									"    if (data.success && data.data) {",
									"        pm.environment.set('chapterId', data.data.id);",
									"        console.log('‚úÖ Created chapter:', data.data.id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"courseId\": \"{{courseId}}\",\n  \"title\": \"Gi·ªõi thi·ªáu v·ªÅ React Hooks\",\n  \"description\": \"T√¨m hi·ªÉu v·ªÅ React Hooks c∆° b·∫£n\",\n  \"order\": 1\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admin/chapters/create",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "chapters", "create"]
						}
					},
					"response": []
				},
				{
					"name": "5.2. Get Chapters By Course",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/chapters/course/{{courseId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "chapters", "course", "{{courseId}}"]
						}
					},
					"response": []
				},
				{
					"name": "5.3. Get Chapter By ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/chapters/{{chapterId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "chapters", "{{chapterId}}"]
						}
					},
					"response": []
				},
				{
					"name": "5.4. Update Chapter",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Gi·ªõi thi·ªáu chi ti·∫øt v·ªÅ React Hooks\",\n  \"description\": \"Updated description\",\n  \"order\": 1\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admin/chapters/{{chapterId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "chapters", "{{chapterId}}"]
						}
					},
					"response": []
				},
				{
					"name": "5.5. Delete Chapter",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/chapters/{{chapterId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "chapters", "{{chapterId}}"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "6. LESSONS (Admin)",
			"item": [
				{
					"name": "6.1. Create Lesson",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const data = pm.response.json();",
									"    if (data.success && data.data) {",
									"        pm.environment.set('lessonId', data.data.id);",
									"        console.log('‚úÖ Created lesson:', data.data.id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"courseId\": \"{{courseId}}\",\n  \"chapterId\": \"{{chapterId}}\",\n  \"title\": \"useState Hook\",\n  \"description\": \"H·ªçc c√°ch s·ª≠ d·ª•ng useState hook\",\n  \"videoUrl\": \"https://youtube.com/watch?v=xxx\",\n  \"duration\": 15,\n  \"order\": 1,\n  \"isFree\": false\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admin/lessons/create",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "lessons", "create"]
						}
					},
					"response": []
				},
				{
					"name": "6.2. Get Lessons By Chapter",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/lessons/chapter/{{chapterId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "lessons", "chapter", "{{chapterId}}"]
						}
					},
					"response": []
				},
				{
					"name": "6.3. Get Lessons By Course",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/lessons/course/{{courseId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "lessons", "course", "{{courseId}}"]
						}
					},
					"response": []
				},
				{
					"name": "6.4. Get Lesson By ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/lessons/{{lessonId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "lessons", "{{lessonId}}"]
						}
					},
					"response": []
				},
				{
					"name": "6.5. Update Lesson",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"useState Hook - Chi ti·∫øt\",\n  \"description\": \"Updated description\",\n  \"duration\": 20\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admin/lessons/{{lessonId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "lessons", "{{lessonId}}"]
						}
					},
					"response": []
				},
				{
					"name": "6.6. Delete Lesson",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/lessons/{{lessonId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "lessons", "{{lessonId}}"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "7. LESSONS (User)",
			"item": [
				{
					"name": "7.1. Get Lesson Detail",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/lessons/{{lessonId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "lessons", "{{lessonId}}"]
						},
						"description": "‚úÖ FIXED: Now uses real userId from JWT token"
					},
					"response": []
				},
				{
					"name": "7.2. Like Lesson",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/lessons/{{lessonId}}/like",
							"host": ["{{baseUrl}}"],
							"path": ["api", "lessons", "{{lessonId}}", "like"]
						}
					},
					"response": []
				},
				{
					"name": "7.3. Mark Lesson Complete",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/lessons/{{lessonId}}/complete",
							"host": ["{{baseUrl}}"],
							"path": ["api", "lessons", "{{lessonId}}", "complete"]
						},
						"description": "‚úÖ FIXED: Now uses real userId"
					},
					"response": []
				},
				{
					"name": "7.4. Get Video Progress",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/lessons/{{lessonId}}/progress",
							"host": ["{{baseUrl}}"],
							"path": ["api", "lessons", "{{lessonId}}", "progress"]
						},
						"description": "üÜï Get saved video progress from database (restore on page reload)"
					},
					"response": []
				},
				{
					"name": "7.5. Update Video Progress",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/lessons/{{lessonId}}/progress?percent=50",
							"host": ["{{baseUrl}}"],
							"path": ["api", "lessons", "{{lessonId}}", "progress"],
							"query": [
								{
									"key": "percent",
									"value": "50"
								}
							]
						},
						"description": "üî• CRITICAL FIX: Now uses real userId from JWT"
					},
					"response": []
				},
				{
					"name": "7.7. Check Lesson Access",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/lessons/{{lessonId}}/access",
							"host": ["{{baseUrl}}"],
							"path": ["api", "lessons", "{{lessonId}}", "access"]
						},
						"description": "‚úÖ FIXED: Now uses real userId"
					},
					"response": []
				},
				{
					"name": "7.8. Get Next Lesson Info",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/lessons/{{lessonId}}/next",
							"host": ["{{baseUrl}}"],
							"path": ["api", "lessons", "{{lessonId}}", "next"]
						},
						"description": "‚úÖ FIXED: Now includes videoUrl, videoId, videoThumbnail in nextLesson object - FE can switch video directly"
					},
					"response": []
				}
			]
		},
		{
			"name": "8. CURRICULUM",
			"item": [
				{
					"name": "8.1. Get Course Chapters",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/curriculum/course/{{courseId}}/chapters",
							"host": ["{{baseUrl}}"],
							"path": ["api", "curriculum", "course", "{{courseId}}", "chapters"]
						}
					},
					"response": []
				},
				{
					"name": "8.2. Get Chapter By ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/curriculum/chapters/{{chapterId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "curriculum", "chapters", "{{chapterId}}"]
						}
					},
					"response": []
				},
				{
					"name": "8.3. Get Chapter Lessons",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/curriculum/chapters/{{chapterId}}/lessons",
							"host": ["{{baseUrl}}"],
							"path": ["api", "curriculum", "chapters", "{{chapterId}}", "lessons"]
						}
					},
					"response": []
				},
				{
					"name": "8.4. Get Full Curriculum",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/curriculum/course/{{courseId}}/full",
							"host": ["{{baseUrl}}"],
							"path": ["api", "curriculum", "course", "{{courseId}}", "full"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "9. PROGRESS TRACKING",
			"item": [
				{
					"name": "9.1. Enroll Course",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/progress/enroll/{{courseId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "progress", "enroll", "{{courseId}}"]
						}
					},
					"response": []
				},
				{
					"name": "9.2. Get Course Progress",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/progress/course/{{courseId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "progress", "course", "{{courseId}}"]
						}
					},
					"response": []
				},
				{
					"name": "9.3. Get My Courses",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/progress/my-courses",
							"host": ["{{baseUrl}}"],
							"path": ["api", "progress", "my-courses"]
						}
					},
					"response": []
				},
				{
					"name": "9.4. Get Chapters With Progress",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/progress/course/{{courseId}}/chapters",
							"host": ["{{baseUrl}}"],
							"path": ["api", "progress", "course", "{{courseId}}", "chapters"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "10. QUIZ (Admin)",
			"item": [
				{
					"name": "10.1. Create Quiz",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const data = pm.response.json();",
									"    if (data.success && data.data) {",
									"        pm.environment.set('quizId', data.data.id);",
									"        console.log('‚úÖ Created quiz:', data.data.id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"lessonId\": \"{{lessonId}}\",\n  \"title\": \"Ki·ªÉm tra useState Hook\",\n  \"description\": \"B√†i ki·ªÉm tra v·ªÅ useState hook\",\n  \"passingScore\": 70,\n  \"timeLimit\": 600,\n  \"questions\": [\n    {\n      \"questionText\": \"useState hook d√πng ƒë·ªÉ l√†m g√¨?\",\n      \"questionType\": \"SINGLE_CHOICE\",\n      \"options\": [\n        {\n          \"text\": \"Qu·∫£n l√Ω state\",\n          \"isCorrect\": true\n        },\n        {\n          \"text\": \"G·ªçi API\",\n          \"isCorrect\": false\n        }\n      ],\n      \"points\": 10\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admin/quizzes/create",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "quizzes", "create"]
						}
					},
					"response": []
				},
				{
					"name": "10.2. Get Quiz By ID (Admin)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/quizzes/{{quizId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "quizzes", "{{quizId}}"]
						}
					},
					"response": []
				},
				{
					"name": "10.3. Update Quiz",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Ki·ªÉm tra useState Hook - Updated\",\n  \"passingScore\": 80\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admin/quizzes/{{quizId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "quizzes", "{{quizId}}"]
						}
					},
					"response": []
				},
				{
					"name": "10.4. Delete Quiz",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/quizzes/{{quizId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "quizzes", "{{quizId}}"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "11. QUIZ (User)",
			"item": [
				{
					"name": "11.1. Get Quiz",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/quizzes/{{quizId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "quizzes", "{{quizId}}"]
						}
					},
					"response": []
				},
				{
					"name": "11.2. Submit Quiz",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"quizId\": \"{{quizId}}\",\n  \"answers\": [\n    {\n      \"questionId\": \"question_id\",\n      \"selectedOptions\": [0]\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/quizzes/submit",
							"host": ["{{baseUrl}}"],
							"path": ["api", "quizzes", "submit"]
						},
						"description": "‚úÖ FIXED: Now uses real userId from JWT"
					},
					"response": []
				},
				{
					"name": "11.3. Get Quiz Attempts",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/quizzes/{{quizId}}/attempts",
							"host": ["{{baseUrl}}"],
							"path": ["api", "quizzes", "{{quizId}}", "attempts"]
						},
						"description": "‚úÖ FIXED: Now uses real userId"
					},
					"response": []
				},
				{
					"name": "11.4. Check Quiz Passed",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/quizzes/{{quizId}}/passed",
							"host": ["{{baseUrl}}"],
							"path": ["api", "quizzes", "{{quizId}}", "passed"]
						},
						"description": "‚úÖ FIXED: Now uses real userId"
					},
					"response": []
				}
			]
		},
		{
			"name": "12. PAYMENT (VNPAY)",
			"item": [
				{
					"name": "12.1. Create Payment (Buy Courses)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const data = pm.response.json();",
									"    if (data.success && data.data) {",
									"        pm.environment.set('paymentId', data.data.paymentId);",
									"        console.log('‚úÖ Payment created:', data.data.paymentId);",
									"        console.log('üîó Payment URL:', data.data.paymentUrl);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"courseIds\": [\"{{courseId}}\"],\n  \"orderInfo\": \"Thanh toan khoa hoc React Hooks\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/payment/vnpay/create",
							"host": ["{{baseUrl}}"],
							"path": ["api", "payment", "vnpay", "create"]
						},
						"description": "üî• NEW: Direct course purchase (no cart needed)"
					},
					"response": []
				},
				{
					"name": "12.2. Get Payment Status",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/payment/{{paymentId}}/status",
							"host": ["{{baseUrl}}"],
							"path": ["api", "payment", "{{paymentId}}", "status"]
						}
					},
					"response": []
				},
				{
					"name": "12.3. Get My Payments",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/payment/my-payments",
							"host": ["{{baseUrl}}"],
							"path": ["api", "payment", "my-payments"]
						},
						"description": "üÜï Get all payment history"
					},
					"response": []
				},
				{
					"name": "12.4. Get My Successful Payments",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/payment/my-payments/success",
							"host": ["{{baseUrl}}"],
							"path": ["api", "payment", "my-payments", "success"]
						},
						"description": "üÜï Get successful payments only"
					},
					"response": []
				},
				{
					"name": "12.5. VNPAY Return (Simulation)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/payment/vnpay/return?vnp_Amount=50000000&vnp_BankCode=NCB&vnp_ResponseCode=00&vnp_TxnRef={{paymentId}}&vnp_TransactionNo=14123456&vnp_SecureHash=dummy",
							"host": ["{{baseUrl}}"],
							"path": ["api", "payment", "vnpay", "return"],
							"query": [
								{
									"key": "vnp_Amount",
									"value": "50000000"
								},
								{
									"key": "vnp_BankCode",
									"value": "NCB"
								},
								{
									"key": "vnp_ResponseCode",
									"value": "00",
									"description": "00=success, 24=cancelled"
								},
								{
									"key": "vnp_TxnRef",
									"value": "{{paymentId}}"
								},
								{
									"key": "vnp_TransactionNo",
									"value": "14123456"
								},
								{
									"key": "vnp_SecureHash",
									"value": "dummy"
								}
							]
						},
						"description": "‚ö†Ô∏è VNPAY callback - Auto enrolls courses on success"
					},
					"response": []
				},
				{
					"name": "12.6. VNPAY IPN (Simulation)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/payment/vnpay/ipn?vnp_Amount=50000000&vnp_ResponseCode=00&vnp_TxnRef={{paymentId}}&vnp_TransactionNo=14123456&vnp_SecureHash=dummy",
							"host": ["{{baseUrl}}"],
							"path": ["api", "payment", "vnpay", "ipn"],
							"query": [
								{
									"key": "vnp_Amount",
									"value": "50000000"
								},
								{
									"key": "vnp_ResponseCode",
									"value": "00"
								},
								{
									"key": "vnp_TxnRef",
									"value": "{{paymentId}}"
								},
								{
									"key": "vnp_TransactionNo",
									"value": "14123456"
								},
								{
									"key": "vnp_SecureHash",
									"value": "dummy"
								}
							]
						},
						"description": "‚ö†Ô∏è Server-to-server callback from VNPAY"
					},
					"response": []
				}
			]
		},
		{
			"name": "13. FAVORITES",
			"item": [
				{
					"name": "13.1. Add to Favorites",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"courseId\": \"{{courseId}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/favorites/{{userId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "favorites", "{{userId}}"]
						}
					},
					"response": []
				},
				{
					"name": "13.2. Get Favorites By User",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/favorites/{{userId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "favorites", "{{userId}}"]
						}
					},
					"response": []
				},
				{
					"name": "13.3. Remove from Favorites",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/favorites/{{userId}}/{{courseId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "favorites", "{{userId}}", "{{courseId}}"]
						}
					},
					"response": []
				},
				{
					"name": "13.4. Check Course in Favorites",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/favorites/{{userId}}/check/{{courseId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "favorites", "{{userId}}", "check", "{{courseId}}"]
						}
					},
					"response": []
				},
				{
					"name": "13.5. Count Favorites",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/favorites/{{userId}}/count",
							"host": ["{{baseUrl}}"],
							"path": ["api", "favorites", "{{userId}}", "count"]
						}
					},
					"response": []
				},
				{
					"name": "13.6. Update Selected Status",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/favorites/{{userId}}/{{courseId}}/select?selected=true",
							"host": ["{{baseUrl}}"],
							"path": ["api", "favorites", "{{userId}}", "{{courseId}}", "select"],
							"query": [
								{
									"key": "selected",
									"value": "true"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "13.7. Clear All Favorites",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/favorites/{{userId}}/clear",
							"host": ["{{baseUrl}}"],
							"path": ["api", "favorites", "{{userId}}", "clear"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "14. USER MANAGEMENT",
			"item": [
				{
					"name": "14.1. Get My Profile",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/users/find-userId",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users", "find-userId"]
						}
					},
					"response": []
				},
				{
					"name": "14.2. Update User Profile",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "request",
									"value": "{\"fullName\":\"Nguy·ªÖn VƒÉn A Updated\",\"phoneNumber\":\"0987654321\"}",
									"type": "text"
								},
								{
									"key": "avatarFile",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{baseUrl}}/api/users/update-user",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users", "update-user"]
						}
					},
					"response": []
				},
				{
					"name": "14.3. Change Password",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"password\": \"CurrentPassword123\",\n  \"newPassword\": \"NewPassword456\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/users/change-password",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users", "change-password"]
						}
					},
					"response": []
				},
				{
					"name": "14.4. Delete User Account",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{userToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/users/{{userId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users", "{{userId}}"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "15. ADMIN - USER MANAGEMENT",
			"item": [
				{
					"name": "15.1. Get All Users",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/users/read-users",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "users", "read-users"]
						}
					},
					"response": []
				},
				{
					"name": "15.2. Update User Active Status",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"active\": false\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admin/users/active/{{userId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "users", "active", "{{userId}}"]
						}
					},
					"response": []
				},
				{
					"name": "15.3. Update User Role",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"role\": \"ADMIN\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admin/users/{{userId}}/role",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "users", "{{userId}}", "role"]
						}
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8080",
			"type": "string"
		},
		{
			"key": "userToken",
			"value": "",
			"type": "string"
		},
		{
			"key": "adminToken",
			"value": "",
			"type": "string"
		},
		{
			"key": "userId",
			"value": "",
			"type": "string"
		},
		{
			"key": "courseId",
			"value": "",
			"type": "string"
		},
		{
			"key": "chapterId",
			"value": "",
			"type": "string"
		},
		{
			"key": "lessonId",
			"value": "",
			"type": "string"
		},
		{
			"key": "quizId",
			"value": "",
			"type": "string"
		},
		{
			"key": "paymentId",
			"value": "",
			"type": "string"
		}
	]
}

